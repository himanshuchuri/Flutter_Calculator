import 'package:flutter/material.dart';import 'package:math_expressions/math_expressions.dart';void main() => runApp(MyApp());class MyApp extends StatelessWidget {  // This widget is the root of your application.  @override  Widget build(BuildContext context) {    return MaterialApp(      title: 'Calculator',      theme: ThemeData(        primarySwatch: Colors.brown,      ),      debugShowCheckedModeBanner: false,      home: MyHomePage(title: 'Calculator'),    );  }}class MyHomePage extends StatefulWidget {  MyHomePage({Key key, this.title}) : super(key: key);  final String title;  @override  _MyHomePageState createState() => _MyHomePageState();}class _MyHomePageState extends State<MyHomePage> {  var result = "0";  dynamic _calculation(val) {    setState(() {      result = result + val;    });  }  dynamic _clear() {    setState(() {      result = "0";    });  }  dynamic _equals(res){    setState(() {      Parser p = new Parser();      Expression exp = p.parse(res);      double evl = exp.evaluate(EvaluationType.REAL, null);      result = '$evl';    });  }  @override  Widget build(BuildContext context) {    return Scaffold(      appBar: AppBar(        // Here we take the value from the MyHomePage object that was created by        // the App.build method, and use it to set our appbar title.        title: Text(widget.title),      ),      body: Column(        mainAxisAlignment: MainAxisAlignment.center,        children: <Widget>[          Row(            mainAxisAlignment: MainAxisAlignment.center,            children: <Widget>[              Expanded(                child: Container(                  padding: const EdgeInsets.fromLTRB(32.0, 30.0, 20.0, 30.0),                  child: Text(                    "$result",                    style: TextStyle(                      fontSize: 25.0,                    ),                  ),                ),              ),            ],          ),          Row(            mainAxisAlignment: MainAxisAlignment.spaceEvenly,            children: <Widget>[              Expanded(                child: GridView.count(                  crossAxisSpacing: 4.0,                  mainAxisSpacing: 6.0,                  crossAxisCount: 4,                  childAspectRatio: (1.2 / 1),                  controller: ScrollController(keepScrollOffset: false),                  shrinkWrap: true,                  children: <Widget>[                    Container(                      margin: EdgeInsets.fromLTRB(10, 0, 5, 0),                      decoration: BoxDecoration(boxShadow: [                        new BoxShadow(color: Colors.black12, blurRadius: 50.0)                      ]),                      child: GridTile(                        child: Card(                          shape: RoundedRectangleBorder(                            borderRadius: BorderRadius.circular(15.0),                          ),                          child: Center(                              child: InkResponse(                                onTap: () => _calculation('+'),                                child: Text(                              '+',                              style: TextStyle(                                fontSize: 25.0,                              ),                            ),                          )),                        ),                      ),                    ),                    Container(                      margin: EdgeInsets.fromLTRB(5, 0, 5, 0),                      decoration: BoxDecoration(boxShadow: [                        new BoxShadow(color: Colors.black12, blurRadius: 50.0)                      ]),                      child: GridTile(                        child: Card(                          shape: RoundedRectangleBorder(                            borderRadius: BorderRadius.circular(15.0),                          ),                          child: Center(                              child: InkResponse(                                onTap: () => _calculation('-'),                                child: Text(                              '-',                              style: TextStyle(                                fontSize: 25.0,                              ),                            ),                          )),                        ),                      ),                    ),                    Container(                      margin: EdgeInsets.fromLTRB(5, 0, 5, 0),                      decoration: BoxDecoration(boxShadow: [                        new BoxShadow(color: Colors.black12, blurRadius: 50.0)                      ]),                      child: GridTile(                        child: Card(                          shape: RoundedRectangleBorder(                            borderRadius: BorderRadius.circular(15.0),                          ),                          child: Center(                              child: InkResponse(                                onTap: () => _calculation('*'),                                child: Text(                              '*',                              style: TextStyle(                                fontSize: 25.0,                              ),                            ),                          )),                        ),                      ),                    ),                    Container(                      margin: EdgeInsets.fromLTRB(5, 0, 10, 0),                      decoration: BoxDecoration(boxShadow: [                        new BoxShadow(color: Colors.black12, blurRadius: 50.0)                      ]),                      child: GridTile(                        child: Card(                          shape: RoundedRectangleBorder(                            borderRadius: BorderRadius.circular(15.0),                          ),                          child: Center(                              child: InkResponse(                                onTap: () => _calculation('/'),                                child: Text(                              '/',                              style: TextStyle(                                fontSize: 25.0,                              ),                            ),                          )),                        ),                      ),                    ),                  ],                ),              ),            ],          ),          Expanded(            child: GridView.count(              mainAxisSpacing: 2.0,              crossAxisCount: 3,              childAspectRatio: (1.45 / 1),              controller: ScrollController(keepScrollOffset: true),              shrinkWrap: true,              children: <Widget>[                Container(                  margin: EdgeInsets.fromLTRB(10, 5, 5, 0),                  child: GridTile(                    child: Card(                      shape: RoundedRectangleBorder(                        borderRadius: BorderRadius.circular(15.0),                      ),                      child: Center(                          child: InkResponse(                            onTap: () => _calculation('9'),                            child: Text(                          '9',                          style: TextStyle(                            fontSize: 25.0,                          ),                        ),                      )),                    ),                  ),                ),                Container(                  margin: EdgeInsets.fromLTRB(5, 5, 5, 0),                  child: GridTile(                    child: Card(                      shape: RoundedRectangleBorder(                        borderRadius: BorderRadius.circular(15.0),                      ),                      child: Center(                          child: InkResponse(                            onTap: () => _calculation('8'),                            child: Text(                          '8',                          style: TextStyle(                            fontSize: 25.0,                          ),                        ),                      )),                    ),                  ),                ),                Container(                  margin: EdgeInsets.fromLTRB(5, 5, 10, 0),                  child: GridTile(                    child: Card(                      shape: RoundedRectangleBorder(                        borderRadius: BorderRadius.circular(15.0),                      ),                      child: Center(                          child: InkResponse(                            onTap: () => _calculation('7'),                            child: Text(                          '7',                          style: TextStyle(                            fontSize: 25.0,                          ),                        ),                      )),                    ),                  ),                ),                Container(                  margin: EdgeInsets.fromLTRB(10, 0, 5, 0),                  child: GridTile(                    child: Card(                      shape: RoundedRectangleBorder(                        borderRadius: BorderRadius.circular(15.0),                      ),                      child: Center(                          child: InkResponse(                            onTap: () => _calculation('6'),                            child: Text(                          '6',                          style: TextStyle(                            fontSize: 25.0,                          ),                        ),                      )),                    ),                  ),                ),                Container(                  margin: EdgeInsets.fromLTRB(5, 0, 5, 0),                  child: GridTile(                    child: Card(                      shape: RoundedRectangleBorder(                        borderRadius: BorderRadius.circular(15.0),                      ),                      child: Center(                          child: InkResponse(                            onTap: () => _calculation('5'),                            child: Text(                          '5',                          style: TextStyle(                            fontSize: 25.0,                          ),                        ),                      )),                    ),                  ),                ),                Container(                  margin: EdgeInsets.fromLTRB(5, 0, 10, 0),                  child: GridTile(                    child: Card(                      shape: RoundedRectangleBorder(                        borderRadius: BorderRadius.circular(15.0),                      ),                      child: Center(                          child: InkResponse(                            onTap: () => _calculation('4'),                            child: Text(                          '4',                          style: TextStyle(                            fontSize: 25.0,                          ),                        ),                      )),                    ),                  ),                ),                Container(                  margin: EdgeInsets.fromLTRB(10, 0, 5, 0),                  child: GridTile(                    child: Card(                      shape: RoundedRectangleBorder(                        borderRadius: BorderRadius.circular(15.0),                      ),                      child: Center(                          child: InkResponse(                            onTap: () => _calculation('3'),                            child: Text(                          '3',                          style: TextStyle(                            fontSize: 25.0,                          ),                        ),                      )),                    ),                  ),                ),                Container(                  margin: EdgeInsets.fromLTRB(5, 0, 5, 0),                  child: GridTile(                    child: Card(                      shape: RoundedRectangleBorder(                        borderRadius: BorderRadius.circular(15.0),                      ),                      child: Center(                          child: InkResponse(                            onTap: () => _calculation('2'),                            child: Text(                          '2',                          style: TextStyle(                            fontSize: 25.0,                          ),                        ),                      )),                    ),                  ),                ),                Container(                  margin: EdgeInsets.fromLTRB(5, 0, 10, 0),                  child: GridTile(                    child: Card(                      shape: RoundedRectangleBorder(                        borderRadius: BorderRadius.circular(15.0),                      ),                      child: Center(                          child: InkResponse(                            onTap: () => _calculation('1'),                            child: Text(                          '1',                          style: TextStyle(                            fontSize: 25.0,                          ),                        ),                      )),                    ),                  ),                ),                Container(                  margin: EdgeInsets.fromLTRB(10, 0, 5, 0),                  child: GridTile(                    child: Center(                      child: Text(                        ' ',                        style: TextStyle(                          fontSize: 25.0,                        ),                      ),                    ),                  ),                ),                Container(                  margin: EdgeInsets.fromLTRB(5, 0, 5, 0),                  child: GridTile(                    child: Card(                      shape: RoundedRectangleBorder(                        borderRadius: BorderRadius.circular(15.0),                      ),                      child: Center(                        child: InkResponse(                          onTap: () => _calculation('0'),                          child: Text(                            '0',                            style: TextStyle(                              fontSize: 25.0,                            ),                          ),                        ),                      ),                    ),                  ),                ),                Container(                  margin: EdgeInsets.fromLTRB(5, 0, 10, 0),                  child: GridTile(                    child: Center(                      child: Text(                        ' ',                        style: TextStyle(                          fontSize: 25.0,                        ),                      ),                    ),                  ),                ),              ],            ),          ),          Row(            children: <Widget>[              Expanded(                child: GridView.count(                    mainAxisSpacing: 2.0,                    crossAxisCount: 2,                    childAspectRatio: (2.3 / 1),                    controller: ScrollController(keepScrollOffset: true),                    shrinkWrap: true,                    children: <Widget>[                      Container(                        margin: EdgeInsets.fromLTRB(10, 0, 5, 10),                        decoration: new BoxDecoration(                          color: Colors.red,                          borderRadius: new BorderRadius.all(Radius.circular(15.0)),                          boxShadow: [                            new BoxShadow(color: Colors.black12, blurRadius: 50.0)                          ],                        ),                        child: GridTile(                          child: Center(                            child: IconButton(                              onPressed: () => _clear(),                              icon: Icon(Icons.delete, size: 30.0),                            ),                          ),                        ),                      ),                      Container(                        margin: EdgeInsets.fromLTRB(5, 0, 10, 10),                        decoration: new BoxDecoration(                          color: Colors.amberAccent,                          borderRadius: new BorderRadius.all(Radius.circular(15.0)),                          boxShadow: [                            new BoxShadow(color: Colors.black12, blurRadius: 50.0)                          ],                        ),                        child: GridTile(                          child: Center(                            child: IconButton(                              onPressed: () => _equals(result),                              icon: Icon(Icons.drag_handle, size: 30.0),                            ),                          ),                        ),                      ),                    ],                ),              ),            ],          ),        ],      ),    );  }}